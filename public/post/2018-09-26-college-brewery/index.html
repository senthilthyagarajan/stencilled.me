<!doctype html><html><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css integrity=sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB crossorigin=anonymous><link href="https://fonts.googleapis.com/css?family=Ubuntu|Ubuntu+Mono" rel=stylesheet><title>Colleges vs Breweries - What tops in your State ?</title>
<link rel=stylesheet href=/css/stylesheet.css><script async src="https://www.googletagmanager.com/gtag/js?id=UA-91161205-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-91161205-1")</script></head><body><div class=container-fluid><nav class="navbar navbar-expand-md navbar-light"><span class="navbar-brand mb-0 h1"></span>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarNavAltMarkup aria-controls=navbarNav aria-expanded=false aria-label="Toggle Navigation" name=button>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarNavAltMarkup><div class=navbar-nav><a class="nav-item nav-link" href=/>Home</a>
<a class="nav-item nav-link" href=https://github.com/senthilthyagarajan target=_blank>GitHub</a>
<a class="nav-item nav-link" href=/page/about/>About</a>
<a class="nav-item nav-link" href=/page/resume/>Resume</a>
<a class="nav-item nav-link" href=/page/blogroll/>Blogroll</a>
<a class="nav-item nav-link" href=/page/reading/>Reading</a>
<a class="nav-item nav-link" href=https://twitter.com/TheRascala>Twitter</a></div></div></nav><section id=page-title><h1><a href=/>Stencilled</a></h1><span id=author-name><h6><a href=/page/about/></a></h6></span></section><div class=blog-post><h1>Colleges vs Breweries - What tops in your State ?</h1><div class=blog-post-subheader></div><div class=blog-post-content>In this post we see how the no. of breweries stack up against no. of colleges across USA. Here I am using d3js and a grid bar chartwhere each grid represents 5 breweries/colleges.I collected the data for Brewery
from <a href=https://www.beeradvocate.com/>Beer Advocate</a> and for colleges from <a href=https://en.m.wikipedia.org>wikipedia</a><!doctype html><html lang=en><head><meta charset=utf-8><link href=main.css rel=stylesheet><title>More Breweries than Colleges</title></head><body><div id=chart><svg width="1e3" height="370"><g class="chart" transform="translate(20, 40)"><text class="title" x="300" y="-11">Breweries vs Colleges in US</text><g class="legend" transform="translate(870,-20)"><rect width="13" height="13"/><text x="17" y="11">= 5</text></g><g class="y axis"/><g class="bars" transform="translate(10, 0)"/></g></svg></div><div id=menu><select class=mode><option value=top10>Top 10 States</option><option value=bottom10>Bottom 10 States</option></select>
<select class=year><option value=College selected>College</option><option value=Brewery>Brewery</option></select></div><script src=https://cdnjs.cloudflare.com/ajax/libs/d3/4.4.4/d3.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.11/lodash.min.js></script><script>tilesPerRow=5,tileSize=15,barPadding=20,maxValue=100,numVisibleCountries=10,barWidth=tilesPerRow*tileSize+barPadding;let colors=["#8dd3c7","#a6cee3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"];var tilesPerRow,tileSize,barPadding,maxValue,numVisibleCountries,barWidth,data,filteredData,selectedYear="College",selectedMode="top10";function initializeData(){data=data.map(function(e){return{name:e.country,year:e.year,age:+e.all}})}function updateFilteredData(){filteredData=data.filter(function(e){return e.year===selectedYear}),filteredData=_.sortBy(filteredData,function(e){return selectedMode==="top10"?-e.age:e.age}),filteredData=filteredData.slice(0,numVisibleCountries)}function getTiles(e){for(var s,n=[],t=0;t<e;t++)s=Math.floor(t/tilesPerRow),n.push({x:t%tilesPerRow*tileSize,y:-(s+1)*tileSize});return n}function updateBar(e,t){var s=getTiles(e.age/5),n=d3.select(this).attr("transform","translate("+t*barWidth+", 300)").selectAll("rect").data(s);n.enter().append("rect").style("opacity",0).style("stroke","white").style("stroke-width","0.5").style("shape-rendering","crispEdges").merge(n).attr("x",function(e){return e.x}).attr("y",function(e){return e.y}).attr("width",tileSize).attr("height",tileSize).transition().delay(function(e,t){return t*20}).style("opacity",1),n.exit().transition().delay(function(e,t){return(100-t)*20}).style("opacity",0).on("end",function(){d3.select(this).remove()})}function updateLabel(e){var t=d3.select(this).select("text");t.empty()&&(t=d3.select(this).append("text").attr("y",-4).attr("transform","rotate(-90)").style("font-weight","bold").style("font-size","12px").style("fill","#777")),t.text(e.name)}function updateBars(){var e=d3.select("g.bars").selectAll("g").data(filteredData);e.enter().append("g").merge(e).style("fill",function(e,t){return colors[t%colors.length]}).each(updateBar).each(updateLabel),e.exit().remove()}function updateAxis(){var e=numVisibleCountries*barWidth,t=maxValue/tilesPerRow*tileSize,n=d3.scaleLinear().domain([0,maxValue]).range([t,0]),s=d3.axisRight().scale(n).tickSize(e);d3.select(".y.axis").call(s)}function initialize(){initializeData(),d3.select("select.mode").on("change",function(){selectedMode=this.value,update()}),d3.select("select.year").on("change",function(){selectedYear=this.value,update()})}function update(){updateFilteredData(),updateBars(),updateAxis()}d3.tsv("College_Brewery.tsv",function(e,t){data=t,initialize(),update()})</script></body></html></div></div><footer><hr><small>&copy; 2025 .
Powered by <a href=https://gohugo.io/ target=_blank>Hugo</a> using the <a href=https://github.com/arjunkrishnababu96/basics target=_blank>Basics</a> theme | <a href=http://www.stencilled.me/index.xml target=_blank>RSS Feeds</a></small></footer></div><script src=https://code.jquery.com/jquery-3.3.1.slim.min.js integrity=sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js integrity=sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T crossorigin=anonymous></script></body></html>